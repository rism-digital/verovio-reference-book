<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <title>Layout options</title>
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" href="/assets/images/verovio-logo-big.png"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="/assets/css/bootstrap/css/bootstrap.min.css" type="text/css" /><!-- Optional theme -->
        <link rel="stylesheet" href="/assets/css/bootstrap/css/bootstrap-theme.min.css" type="text/css" />
        <link rel="stylesheet" href="/assets/css/fileinput.min.css" />

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/assets/css/syntax.css" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/assets/css/verovio.css" />
        <link rel="stylesheet" href="/assets/css/midiplayer.css" />

        <link rel="stylesheet" href="/css/verovio-site.css" />

        <script src="/assets/javascript/jquery-3.6.0.min.js" type="text/javascript" ></script>
        <script src="/assets/javascript/bootstrap.min.js" type="text/javascript" ></script>

        <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Layout options | Reference book for Verovio</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Layout options" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Now that we have successfully rendered an MEI file to a web page, we can start to explore how to customize the SVG output. There are many possible options, most of which you will never need." />
<meta property="og:description" content="Now that we have successfully rendered an MEI file to a web page, we can start to explore how to customize the SVG output. There are many possible options, most of which you will never need." />
<meta property="og:site_name" content="Reference book for Verovio" />
<meta property="og:image" content="https://book.verovio.org/images/card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-08-24T19:27:10+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://book.verovio.org/images/card.png" />
<meta property="twitter:title" content="Layout options" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"description":"Now that we have successfully rendered an MEI file to a web page, we can start to explore how to customize the SVG output. There are many possible options, most of which you will never need.","url":"/first-steps/layout-options.html","@type":"BlogPosting","image":"https://book.verovio.org/images/card.png","headline":"Layout options","dateModified":"2021-08-24T19:27:10+00:00","datePublished":"2021-08-24T19:27:10+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/first-steps/layout-options.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    </head>
    <body>

        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
     <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
            <a class="navbar-brand logo-nav" href="https://www.verovio.org/index.xhtml"><img src="/assets/images/verovio-fadded-50.png" /></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li >
                    <a href="https://www.verovio.org/index.xhtml">Homepage</a>
                </li>
                <li class="active">
                    <a href="https://book.verovio.org/">Reference book</a>
                </li>
                <li >
                    <a href="https://www.verovio.org/musicxml.html">Online tools</a>
                </li>
              </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


        <div class="top-header"> 
    <div class="container" style="color: #eee; height: 140px; padding-top: 5px;">
        <h1 style="color: #eee;" class="hidden-print hidden-xs">A music notation engraving library</h1> 
        <h3 style="color: #eee;" class="hidden-print visible-xs">A music notation engraving library</h3> 
        <p class="hidden-print">Designed for the Music Encoding Initiative - Fast - Light - Flexible - No dependencies</p>
    </div>
</div>


        <div class="container with-footer">

            



<div class="row">
    <div class="col-md-3 sidebar-offcanvas" id="sidebar">
        <div class="toc-group">

    <a class="toc-item" href="/introduction/">Introduction</a>
    

    <a class="toc-item" href="/first-steps/">Tutorial 1: First Steps</a>
    
        
        
<a class="toc-item toc-section " href="/first-steps/">Introduction</a>
    

<a class="toc-item toc-section " href="/first-steps/getting-started.html">Getting started</a>
    

<a class="toc-item toc-section " href="/first-steps/basic-rendering.html">Basic rendering</a>
    

<a class="toc-item toc-section selected" href="/first-steps/layout-options.html">Layout options</a>
    
        
        
<a class="toc-item toc-subsection" href="#passing-options-to-verovio">Passing options to Verovio</a>

<a class="toc-item toc-subsection" href="#defaults">Defaults</a>

<a class="toc-item toc-subsection" href="#change-the-page-orientation">Change the page orientation</a>

<a class="toc-item toc-subsection" href="#end-of-section-3">End of Section 3</a>

    

<a class="toc-item toc-section " href="/first-steps/score-navigation.html">Score navigation</a>
    

    

    <a class="toc-item" href="/interactive-notation/">Tutorial 2: Interactive notation</a>
    

    <a class="toc-item" href="/advanced-topics/">Beyond tutorials: Advanced topics</a>
    

    <a class="toc-item" href="/toolkit-reference/input-formats.html">Toolkit Reference</a>
    

    <a class="toc-item" href="/installing-or-building-from-sources/command-line.html">Installing or building from sources</a>
    

    <a class="toc-item" href="/contributing/guidelines.html">Contributing</a>
    

</div>
    </div>

    <div class="col-md-9">
        
        <a class="hidden-print" href="https://github.com/rism-digital/verovio-reference-book/edit/master/_book/02-first-steps/03-layout-options.md"><button class="btn btn-xs pull-right">Edit this page</button></a>
        
        
        <h2>Layout options</h2>
        <p>Now that we have successfully rendered an MEI file to a web page, we can start to explore how to customize the SVG output. There are <a href="/toolkit-reference/toolkit-options.html">many possible options</a>, most of which you will never need.</p>

<p>To start, we will first try and reduce the size of the image output, to demonstrate how we can scale the music notation to fit the screen.</p>

<h3 id="passing-options-to-verovio">Passing options to Verovio</h3>

<p>Passing options to Verovio is as easy as creating a set of key and value pairs, and using the <code class="language-plaintext highlighter-rouge">setOptions</code> method on the toolkit. To scale the output we will use the <code class="language-plaintext highlighter-rouge">scale</code> option. Add the following to your page, after we have instantiated the toolkit but before we render the data:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">tk</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">({</span>
  <span class="na">scale</span><span class="p">:</span> <span class="mi">30</span>
<span class="p">});</span>
</code></pre></div></div>

<p>When you refresh your page, you should see your score scaled to 30% of its original size. Try experimenting with other values to see their effects! (Hint: you can use sizes above 100%.)</p>

<h3 id="defaults">Defaults</h3>

<p>All of the options have default values. You can use the <code class="language-plaintext highlighter-rouge">getOptions</code> method to view the list of all the options and their default values. We will use the browser console to explore these defaults. Add the following line:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Verovio options:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">tk</span><span class="p">.</span><span class="nx">getOptions</span><span class="p">());</span>
</code></pre></div></div>

<p>When you refresh your page and open your browser’s console you should see the text “Verovio options:” followed by a small disclosure triangle. Clicking this triangle will produce a long list of options that you can pass to <code class="language-plaintext highlighter-rouge">setOptions</code>. Let’s try a few more.</p>

<h3 id="change-the-page-orientation">Change the page orientation</h3>

<p>You may have noticed that, by default, Verovio renders the score in “portrait” orientation; that is, the width of the score is shorter than the length. To change this, we can use the <code class="language-plaintext highlighter-rouge">landscape</code> and <code class="language-plaintext highlighter-rouge">adjustPageWidth</code> options:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">tk</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">({</span>
  <span class="na">scale</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
  <span class="na">landscape</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">adjustPageWidth</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">});</span>
</code></pre></div></div>

<p>When you refresh the page you should notice that your SVG has changed orientation! But wait… the score is now cut off! Where did the rest of it go?</p>

<p>It turns out that Verovio has the ability to split scores into “pages” automatically. When it calculates the notation cannot fit on the current page, Verovio will automatically push it to the next page. Adjusting the different options will have an effect on this calculation, so it is worth looking through the options that we printed out, and trying some on your own. You may wish to change the <code class="language-plaintext highlighter-rouge">pageWidth</code> option, for example, to a bigger or smaller value and see what the result is.</p>

<h3 id="end-of-section-3">End of Section 3</h3>

<p>In this section we have explored Verovio’s default options, and looked at how to adjust them to change the rendering output. In the next section we will look at how we can adjust these options dynamically, using on-screen controls to provide a user interface for building interactive music notation displays.</p>

<h4 id="full-example">Full example</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js"</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script&gt;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOMContentLoaded</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">Module</span><span class="p">.</span><span class="nx">onRuntimeInitialized</span> <span class="o">=</span> <span class="k">async</span> <span class="nx">_</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">tk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">verovio</span><span class="p">.</span><span class="nx">toolkit</span><span class="p">();</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Verovio has loaded!</span><span class="dl">"</span><span class="p">);</span>
            <span class="nx">tk</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">({</span>
              <span class="na">scale</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
              <span class="na">landscape</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
              <span class="na">adjustPageWidth</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">});</span>
            <span class="nx">tk</span><span class="p">.</span><span class="nx">renderToSVG</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Verovio options:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">tk</span><span class="p">.</span><span class="nx">getOptions</span><span class="p">());</span>

            <span class="nx">fetch</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.verovio.org/examples/downloads/Schubert_Lindenbaum.mei</span><span class="dl">"</span><span class="p">)</span>
              <span class="p">.</span><span class="nx">then</span><span class="p">(</span> <span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">()</span> <span class="p">)</span>
              <span class="p">.</span><span class="nx">then</span><span class="p">(</span> <span class="p">(</span><span class="nx">meiXML</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">let</span> <span class="nx">svg</span> <span class="o">=</span> <span class="nx">tk</span><span class="p">.</span><span class="nx">renderData</span><span class="p">(</span><span class="nx">meiXML</span><span class="p">,</span> <span class="p">{});</span>
                <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">notation</span><span class="dl">"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">svg</span><span class="p">;</span>
              <span class="p">});</span>
          <span class="p">}</span>
      <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Hello Verovio!<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"notation"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

    </div>
</div>

<script>
    let options = {
        rootMargin: '60px'
    }
    function adjustSideBar() {
        elem = document.getElementsByClassName("toc-group")[0];
        // 992 is the breakpoint for which the sidebar moves to the top; 35 is the footer height
        elem.style.height = (window.innerWidth < 992) ? "" : `${window.innerHeight - elem.offsetTop - 35}px`;
    }

    window.onresize = function () {
        adjustSideBar();
    };
    window.onload = function() {
        adjustSideBar();
    };

    window.addEventListener('DOMContentLoaded', () => {
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                const id = entry.target.getAttribute('id');
                if (entry.intersectionRatio > 0) {
                    // First deselect everything
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection`);
                    for (i = 0; i < sections.length; i++){
                        sections[i].classList.remove('selected');
                    }
                    // The one entering is marked as .on-screen
                    document.querySelector(`.toc-group a[href="#${id}"]`).classList.add('on-screen');
                    // Select the first that in .on-screen
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection.on-screen`);
                    sections[0].classList.add('selected');

                } else {
                    leaving = document.querySelector(`.toc-group a[href="#${id}"]`)
                    // Remove the .on-screen from the one leaving
                    leaving.classList.remove('on-screen');
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection.on-screen`);
                    // If no other one is on screen, just leave things as they are
                    if (sections.length > 0) {
                        // Otherwise de-select the one that is leaving
                        leaving.classList.remove('selected');
                        // Selected the first .on-screen one and de-select the other ones
                        sections[0].classList.add('selected');
                        for (i = 1; i < sections.length; i++){
                            console.log(sections[i].getAttribute('id'))
                            sections[i].classList.remove('selected');
                        }
                    }
                }
            });
        }, options);

        // Track all sections that have an `id` applied
        document.querySelectorAll('h3[id]').forEach((section) => {
            observer.observe(section);
        });

    });
</script>



        </div>

        <footer class="hidden-print footer navbar-fixed-bottom">
            <p>
                
            </p>
        </footer>

        <script type="text/javascript">
        //<![CDATA[
            $(document).ready(function() {

                

            });
        //]]>
        </script>
    </body>
</html>
