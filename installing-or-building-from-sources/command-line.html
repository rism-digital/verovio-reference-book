<!DOCTYPE html>
<html lang="en" xml:lang="en" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8" />
        <title>Command-line version</title>
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" href="/assets/images/verovio-logo-big.png"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="/assets/css/bootstrap/css/bootstrap.min.css" type="text/css" /><!-- Optional theme -->
        <link rel="stylesheet" href="/assets/css/bootstrap/css/bootstrap-theme.min.css" type="text/css" />
        <link rel="stylesheet" href="/assets/css/fileinput.min.css" />

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/assets/css/syntax.css" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/assets/css/verovio.css" />
        <link rel="stylesheet" href="/assets/css/midiplayer.css" />

        <link rel="stylesheet" href="/css/verovio-site.css" />

        <script src="/assets/javascript/jquery-3.6.0.min.js" type="text/javascript" ></script>
        <script src="/assets/javascript/bootstrap.min.js" type="text/javascript" ></script>

        <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Command-line version | Reference book for Verovio</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Command-line version" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Verovio codebase is C++17 compliant and is cross-platform. It has been tested on several operating systems and architectures. This section describes how to build and install the command-line version of the toolkit from the command-line or using some of the most popular IDEs. There are currently no pre-built binaries of the command-line toolkit available except for Homebrew on macOS. However, building it is very straight-forward." />
<meta property="og:description" content="The Verovio codebase is C++17 compliant and is cross-platform. It has been tested on several operating systems and architectures. This section describes how to build and install the command-line version of the toolkit from the command-line or using some of the most popular IDEs. There are currently no pre-built binaries of the command-line toolkit available except for Homebrew on macOS. However, building it is very straight-forward." />
<meta property="og:site_name" content="Reference book for Verovio" />
<meta property="og:image" content="https://book.verovio.org/images/card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-01-27T13:39:23+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://book.verovio.org/images/card.png" />
<meta property="twitter:title" content="Command-line version" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"description":"The Verovio codebase is C++17 compliant and is cross-platform. It has been tested on several operating systems and architectures. This section describes how to build and install the command-line version of the toolkit from the command-line or using some of the most popular IDEs. There are currently no pre-built binaries of the command-line toolkit available except for Homebrew on macOS. However, building it is very straight-forward.","datePublished":"2023-01-27T13:39:23+00:00","dateModified":"2023-01-27T13:39:23+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/installing-or-building-from-sources/command-line.html"},"image":"https://book.verovio.org/images/card.png","url":"/installing-or-building-from-sources/command-line.html","@type":"BlogPosting","headline":"Command-line version","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    </head>
    <body>

        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
     <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
            <a class="navbar-brand logo-nav" href="https://www.verovio.org/index.xhtml"><img src="/assets/images/verovio-fadded-50.png" /></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li >
                    <a href="https://www.verovio.org/index.xhtml">Homepage</a>
                </li>
                <li class="active">
                    <a href="https://book.verovio.org/">Reference book</a>
                </li>
                <li >
                    <a href="https://www.verovio.org/musicxml.html">Online tools</a>
                </li>
              </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


        <div class="top-header"> 
    <div class="container" style="color: #eee; height: 140px; padding-top: 5px;">
        <h1 style="color: #eee;" class="hidden-print hidden-xs">A music notation engraving library</h1> 
        <h3 style="color: #eee;" class="hidden-print visible-xs">A music notation engraving library</h3> 
        <p class="hidden-print">Designed for the Music Encoding Initiative - Fast - Light - Flexible - No dependencies</p>
    </div>
</div>


        <div class="container with-footer">

            



<div class="row">
    <div class="col-md-3 sidebar-offcanvas" id="sidebar">
        <div class="toc-group">
            <div>

    <a class="toc-item" href="/introduction/">Introduction</a>
    

    <a class="toc-item" href="/first-steps/">Tutorial 1: First Steps</a>
    

    <a class="toc-item" href="/interactive-notation/css-and-svg.html">Tutorial 2: Interactive notation</a>
    

    <a class="toc-item" href="/advanced-topics/">Beyond tutorials: Advanced topics</a>
    

    <a class="toc-item" href="/toolkit-reference/input-formats.html">Toolkit Reference</a>
    

    <a class="toc-item" href="/installing-or-building-from-sources/command-line.html">Installing or building from sources</a>
    
        
        
<a class="toc-item toc-section selected" href="/installing-or-building-from-sources/command-line.html">Command-line version</a>
    
        
        
<a class="toc-item toc-subsection" href="#homebrew-on-macos">Homebrew on macOS</a>

<a class="toc-item toc-subsection" href="#building-on-macos-or-linux">Building on macOS or Linux</a>

<a class="toc-item toc-subsection" href="#windows-10">Windows 10</a>

<a class="toc-item toc-subsection" href="#xcode">Xcode</a>

<a class="toc-item toc-subsection" href="#visual-studio">Visual Studio</a>

<a class="toc-item toc-subsection" href="#visual-studio-code">Visual Studio Code</a>

    

<a class="toc-item toc-section " href="/installing-or-building-from-sources/javascript-and-webassembly.html">JavaScript and WebAssembly</a>
    

<a class="toc-item toc-section " href="/installing-or-building-from-sources/python.html">Python</a>
    

<a class="toc-item toc-section " href="/installing-or-building-from-sources/other-bindings.html">Other bindings</a>
    

<a class="toc-item toc-section " href="/installing-or-building-from-sources/troubleshooting.html">Troubleshooting</a>
    

    

    <a class="toc-item" href="/contributing/guidelines.html">Contributing</a>
    

</div>
            <div id="website-search-form" class="toc-item search-form">
    
    <form action="/search.html">
        <div class="form-group">
            <input id="website-search" class="form-control" type="text" name="q" placeholder="Search the reference book ...">
        </div>
        <button type="submit" class="btn btn-small">Search</button>
    </form>
</div>


        </div>
    </div>

    <div class="col-md-9" id="content">
        
        <a class="hidden-print" href="https://github.com/rism-digital/verovio-reference-book/edit/master/_book/06-installing-or-building-from-sources/01-command-line.md"><button class="btn btn-xs pull-right">Edit this page</button></a>
        
        
        <h2>Command-line version</h2>
        <p>The Verovio codebase is C++17 compliant and is cross-platform. It has been tested on several operating systems and architectures. This section describes how to build and install the command-line version of the toolkit from the command-line or using some of the most popular IDEs. There are currently no pre-built binaries of the command-line toolkit available except for Homebrew on macOS. However, building it is very straight-forward.</p>

<h3 id="homebrew-on-macos">Homebrew on macOS</h3>

<p>For macOS users using <a href="https://brew.sh">Homebrew</a>, the command-line version can be installed with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>verovio
</code></pre></div></div>

<p>This also installs the resources and you will be ready to go.</p>

<p>You can also install the latest development source with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>verovio <span class="nt">--HEAD</span>
</code></pre></div></div>

<h3 id="building-on-macos-or-linux">Building on macOS or Linux</h3>

<p>To build the command-line tool, you need <a href="https://cmake.org">CMake</a> to be installed on your machine as well as a compiler supporting C++17. The commands to build are the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>tools
cmake ../cmake
make
</code></pre></div></div>

<p>You can increase the building speed by using the <code class="language-plaintext highlighter-rouge">-j</code> option when running make that specifies the number of jobs to be run in parallel:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nt">-j</span> 8
</code></pre></div></div>

<p>The generates a <code class="language-plaintext highlighter-rouge">verovio</code> binary within <code class="language-plaintext highlighter-rouge">./tools</code>. You can run Verovio from there or install it. Installing it means copying the executable and the resource files to directories which paths are globally accessible. You simply need to run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make <span class="nb">install</span>
</code></pre></div></div>

<p>If you do not install it and run it from <code class="language-plaintext highlighter-rouge">./tools</code> or from another directory, you need to use the <code class="language-plaintext highlighter-rouge">-r</code> option to set the appropriate resource directory. The parameter of the <code class="language-plaintext highlighter-rouge">-r</code> option has to be a path to the <code class="language-plaintext highlighter-rouge">./data</code> folder of the codebase.</p>

<p>To see the current default resource path, look for the “resource path” section in the full help output. You should see something like this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>verovio <span class="nt">-h</span> full
...
<span class="nt">-r</span>, <span class="nt">--resource-path</span> &lt;s&gt;        Path to the directory with Verovio resources <span class="o">(</span>default: <span class="s2">"/usr/local/share/verovio"</span><span class="o">)</span>
</code></pre></div></div>

<p>Keep in mind that if you have installed, you should not run another version without re-installing it or using the <code class="language-plaintext highlighter-rouge">-r</code> options to point to a non-default path, because otherwise the resources installed can be invalid. A typical problem is missing font glyphs that a newer version needs but that are not in the older version of the resources.</p>

<p>(Until version 2.6.0, the cmake command was <code class="language-plaintext highlighter-rouge">cmake .</code> and not <code class="language-plaintext highlighter-rouge">cmake ../cmake</code>.)</p>

<h4 id="basic-usage">Basic usage</h4>

<p>To seeing the basic command-line options, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>verovio <span class="nt">--help</span>
</code></pre></div></div>

<p>To see all command-line options, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>verovio <span class="nt">-h</span> full
</code></pre></div></div>

<p>For typesetting an MEI file with the default options, you need to do:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>verovio <span class="nt">-o</span> output.svg Hummel_Concerto_for_trumpet.mei
</code></pre></div></div>

<p>If you use a version locally that is not installed, do not forget to add the <code class="language-plaintext highlighter-rouge">-r</code> parameter:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./verovio <span class="nt">-r</span> ../data <span class="nt">-o</span> output.svg Hummel_Concerto_for_trumpet.mei
</code></pre></div></div>

<h4 id="additional-building-options">Additional building options</h4>

<p>By default, the executable is not stripped. To strip it during the installation do</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make <span class="nb">install</span>/strip
</code></pre></div></div>

<p>To build Verovio without Plaine and Easy support, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake ../cmake <span class="nt">-DNO_PAE_SUPPORT</span><span class="o">=</span>ON
</code></pre></div></div>

<p>To allow PAE support again, you must run the command</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake ../cmake <span class="nt">-DNO_PAE_SUPPORT</span><span class="o">=</span>OFF
</code></pre></div></div>

<p>since running <code class="language-plaintext highlighter-rouge">cmake ../cmake</code> will not clear the state of the define variable.</p>

<p>The other building options are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">NO_ABC_SUPPORT</code> for the ABC importer to be turned on/off</li>
  <li><code class="language-plaintext highlighter-rouge">NO_MXL_SUPPORT</code> for the compressed MusicXML importer to be turned on/off</li>
  <li><code class="language-plaintext highlighter-rouge">NO_HUMDRUM_SUPPORT</code> for the Humdrum importer to be turned on/off</li>
  <li><code class="language-plaintext highlighter-rouge">MUSICXML_DEFAULT_HUMDRUM</code> to use the MusicXML Humdrum importer by default instead of the direct MusicXML importer</li>
  <li><code class="language-plaintext highlighter-rouge">BUILD_AS_LIBRARY</code> for Verovio to be built as dynamic shared library instead of a command-line executable</li>
</ul>

<h4 id="uninstall-a-previous-version">Uninstall a previous version</h4>

<p>If you have installed Verovio with Homebrew, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew uninstall verovio
</code></pre></div></div>

<p>To uninstall a previously installed version of Verovio from the system, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-f</span> /usr/local/bin/verovio
<span class="nb">rm</span> <span class="nt">-rf</span> /usr/local/share/verovio
</code></pre></div></div>

<h4 id="troubleshooting">Troubleshooting</h4>
<p>Occasionally there are problems with updates necessary to the <code class="language-plaintext highlighter-rouge">Makefile</code> when compiling a new version of Verovio with make. It may be necessary to clear out the automatically generated cmake files and regenerate them. To do that, run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-rf</span> CMakeFiles CMakeCache.txt Makefile cmake_install.cmake
</code></pre></div></div>

<p>Or, when using CMake 3.24 or later, you can simply run:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>tools
cmake ../cmake <span class="nt">--fresh</span>
</code></pre></div></div>

<h3 id="windows-10">Windows 10</h3>

<p>To build Verovio on Windows 10 from the command-line, you will need to have <a href="https://visualstudio.microsoft.com/visual-cpp-build-tools">Microsoft C++ Build Tools</a> and <a href="https://sourceforge.net/projects/gnuwin32/">make</a> installed on your computer.</p>

<p>Run the following commands from the <em>x86 Native Tools Command Prompt for VS</em> (with administrator privileges):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> &lt;sourceCode&gt;/tools 
cmake ../cmake <span class="nt">-G</span> <span class="s2">"NMake Makefiles"</span>
nmake
nmake <span class="nb">install</span>
</code></pre></div></div>

<p>After the installation, add <code class="language-plaintext highlighter-rouge">&lt;sourceCode&gt;/tools</code> to the <a href="https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/">PATH</a> of your system.</p>

<p>When running the commands, the resource path should be provided explicitly with the following option:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-r</span> <span class="s2">"C:/Program Files (x86)/Verovio/share/verovio"</span>
</code></pre></div></div>

<h3 id="xcode">Xcode</h3>

<p>For macOS users, there is also an Xcode project in the Verovio root directory.</p>

<p>By default, humdrum support is turned off in Xcode. To turn in on, you need to use the <code class="language-plaintext highlighter-rouge">Verovio-Humdrum</code> building scheme.</p>

<h3 id="visual-studio">Visual Studio</h3>

<ul>
  <li>Install <a href="https://cmake.org">CMake</a></li>
  <li>Go into the tools folder of Verovio</li>
  <li>Execute <code class="language-plaintext highlighter-rouge">cmake ../cmake -DNO_PAE_SUPPORT=ON</code> (add <code class="language-plaintext highlighter-rouge">-DCMAKE_GENERATOR_PLATFORM=x64</code> for a x64 solution)</li>
  <li>Open the resulting <code class="language-plaintext highlighter-rouge">Verovio.sln</code> with Visual Studio and build it from there</li>
</ul>

<h3 id="visual-studio-code">Visual Studio Code</h3>

<p>Verovio contains simple predefined build tasks in the <code class="language-plaintext highlighter-rouge">tasks.json</code> file.</p>

<p>You can build Verovio by pressing <code class="language-plaintext highlighter-rouge">Ctrl+Shift+B</code> / <code class="language-plaintext highlighter-rouge">⇧⌘B</code> or running <strong>Run Build Task</strong> from the global <strong>Terminal</strong> menu.</p>

    </div>
</div>

<script src="/js/highlighter.js"></script>

<script>
    let options = {
        rootMargin: '60px'
    }
    function adjustSideBar() {
        elem = document.getElementsByClassName("toc-group")[0];
        // 992 is the breakpoint for which the sidebar moves to the top; 35 is the footer height
        elem.style.height = (window.innerWidth < 992) ? "" : `${window.innerHeight - elem.offsetTop - 35}px`;
    }

    window.onresize = function () {
        adjustSideBar();
    };
    window.onload = function() {
        adjustSideBar();
    };

    window.addEventListener('DOMContentLoaded', () => {
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                const id = entry.target.getAttribute('id');
                if (entry.intersectionRatio > 0) {
                    // First deselect everything
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection`);
                    for (i = 0; i < sections.length; i++){
                        sections[i].classList.remove('selected');
                    }
                    // The one entering is marked as .on-screen
                    document.querySelector(`.toc-group a[href="#${id}"]`).classList.add('on-screen');
                    // Select the first that in .on-screen
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection.on-screen`);
                    sections[0].classList.add('selected');

                } else {
                    leaving = document.querySelector(`.toc-group a[href="#${id}"]`)
                    // Remove the .on-screen from the one leaving
                    leaving.classList.remove('on-screen');
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection.on-screen`);
                    // If no other one is on screen, just leave things as they are
                    if (sections.length > 0) {
                        // Otherwise de-select the one that is leaving
                        leaving.classList.remove('selected');
                        // Selected the first .on-screen one and de-select the other ones
                        sections[0].classList.add('selected');
                        for (i = 1; i < sections.length; i++){
                            console.log(sections[i].getAttribute('id'))
                            sections[i].classList.remove('selected');
                        }
                    }
                }
            });
        }, options);

        // Track all sections that have an `id` applied
        document.querySelectorAll('h3[id]').forEach((section) => {
            observer.observe(section);
        });

    });

    let params = new URLSearchParams( document.location.search.substring( 1 ) );
    if ( params.get( "q" ) )
    {
        let query = params.get( "q" );
        // Also make sure we preserve the query term in the form in the sidebar
        document.getElementById("website-search").value = query;
        // Preserve the original query for logging
        let query_term = query;
        // Remove quotes and trim
        query = query.replace(/\'|\"/g, ' ');
        query = query.trim();
        // Make it an AND query
        console.log(query);

        let terms = query.split(' ');
        var container = document.getElementById("content");

        for (var i = 0; i < terms.length; i++) {
            InstantSearch.highlight(container, terms[i]);
        }
    }

</script>



        </div>

        <footer class="hidden-print footer navbar-fixed-bottom">
            <p>
                
            </p>
        </footer>

        <script type="text/javascript">
        //<![CDATA[
            $(document).ready(function() {

                

            });
        //]]>
        </script>
    </body>
</html>
